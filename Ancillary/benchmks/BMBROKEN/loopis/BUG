We have to change this to avoid integer overflow.
Changing loopis to use a :While loop is good, but 
we have to make APEX support :while first. Dang.

