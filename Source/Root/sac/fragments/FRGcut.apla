'% Fragments for cut. ',(⎕UCS 10),'% See compose for compositions',(⎕UCS 10),'% See rank for rank operator',(⎕UCS 10),'%',(⎕UCS 10),'% Robert Bernecky 1995-02-16',(⎕UCS 10),'%',(⎕UCS 10),'% Attempt to remove loop fusion inhibitions 1996-03-26 /rbe',(⎕UCS 10),'% Supports arbitrary user array index origin  1996-03-26 /rbe',(⎕UCS 10),'%Fragment 3nuax 111 bidc bidc bidc 3cut',(⎕UCS 10),'inline function $FNAME(x1: array[$XTYPE];',(⎕UCS 10),'              y1: array[$YTYPE]',(⎕UCS 10),'              returns array[$ZTYPE])',(⎕UCS 10),'% This is overlapping windows with slices of length y1, no shards',(⎕UCS 10),'% e.g., convolution',(⎕UCS 10),'% One-element window size, please',(⎕UCS 10),'%',(⎕UCS 10),'let ',(⎕UCS 10),' qio := array_liml(x1);',(⎕UCS 10),' x0 := x1[ConformSame(qio,array_limh(x1))];',(⎕UCS 10),'in',(⎕UCS 10),'  for i in qio,1+array_limh(y1)-x0',(⎕UCS 10),'   S := array_setl(for j in i,i+x0-1',(⎕UCS 10),'        returns array of y1[j]',(⎕UCS 10),'        end for,qio) ',(⎕UCS 10),'   returns array of $FRVALUE{{}{S}}',(⎕UCS 10),'  end for',(⎕UCS 10),'end let ',(⎕UCS 10),'end function',(⎕UCS 10 10)
