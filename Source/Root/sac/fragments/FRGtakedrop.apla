'% Code fragments for take and drop',(⎕UCS 10),'%',(⎕UCS 10),'% Robert Bernecky 2006-02-14',(⎕UCS 10),'%',(⎕UCS 10),'% These all just call sac take/drop now.',(⎕UCS 10),'% Unfortunately, SAC take does NOT peform overtake.',(⎕UCS 10),'% Poop. So, the above is longer true.',(⎕UCS 10 10),'% %%%%%%%%%%%%%%%%%%% take %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%',(⎕UCS 10 10),'%Fragment take 001 bid bidc bidc .',(⎕UCS 10 10),'inline $ZTYPE[.] $FNAME($XTYPE x, $YTYPE y)',(⎕UCS 10),'{ /* Scalar take scalar */',(⎕UCS 10),'  return(take([toi(x)],[y]));',(⎕UCS 10),'}',(⎕UCS 10 10),'%Fragment take 101 bid bidc bidc  .',(⎕UCS 10),'inline $ZTYPE[*] $FNAME($XTYPE[.] x, $YTYPE y)',(⎕UCS 10),'{ /* Vector take scalar */',(⎕UCS 10),'  return(take(toi(x),[y]));',(⎕UCS 10),'}',(⎕UCS 10 10),'%Fragment take 011 bid bidc bidc .',(⎕UCS 10),'%Fragment take 011 bid bidc bidc .',(⎕UCS 10),'inline $ZTYPE[.] $FNAME($XTYPE x, $YTYPE[.] y)',(⎕UCS 10),'{ /* Scalar take vector */ ',(⎕UCS 10),'  return(take([toi(x)], y));',(⎕UCS 10),'}',(⎕UCS 10 10),'%',(⎕UCS 10),'%Fragment take 11* bid bidc bidc .',(⎕UCS 10),'inline $ZTYPE[*] $FNAME($XTYPE[1] x, $YTYPE[.] y)',(⎕UCS 10),'{ /* Vector take Vector */ ',(⎕UCS 10),'  return(take(toi(x),y));',(⎕UCS 10),'}',(⎕UCS 10 10),'%Fragment take 0** bid bidc bidc .',(⎕UCS 10),'inline $ZTYPE[.,.] $FNAME($XTYPE x, $YTYPE[.,.] y)',(⎕UCS 10),'{ /* scalar take matrix */',(⎕UCS 10),' return(take([toi(x)],y));',(⎕UCS 10),'}',(⎕UCS 10 10),'%Fragment take 1** bid bidc bidc .',(⎕UCS 10),'inline $ZTYPE[.,.] $FNAME($XTYPE[.] x, $YTYPE[.,.] y)',(⎕UCS 10),'{ /* vector take matrix */',(⎕UCS 10),'  return(take(toi(x),y));',(⎕UCS 10),'}',(⎕UCS 10 10),'%% -------------------- drop code fragments ------------------------',(⎕UCS 10),'%',(⎕UCS 10),'%Fragment drop 001 bid bidc bidc .',(⎕UCS 10),'inline $ZTYPE[*] $FNAME($XTYPE x, $YTYPE[*] y)',(⎕UCS 10),'{ /* Scalar drop scalar */',(⎕UCS 10),'  return(drop([toi(x)], [y]));',(⎕UCS 10),'}',(⎕UCS 10 10),'%Fragment drop 0** bid bidc bidc .',(⎕UCS 10),'inline $ZTYPE[*] $FNAME($XTYPE x, $YTYPE[*] y)',(⎕UCS 10),'{ /* Scalar drop non-scalar */',(⎕UCS 10),'  return(drop([toi(x)], y));',(⎕UCS 10),'}',(⎕UCS 10 10),'%Fragment drop 111 bid bidc bidc .',(⎕UCS 10),'%Fragment drop 1** bid bidc bidc .',(⎕UCS 10),'inline $ZTYPE[*] $FNAME($XTYPE[.] x, $YTYPE[*] y)',(⎕UCS 10),'{ /* Vector drop non-scalar */',(⎕UCS 10),'  /* FIXME: Assert  dim(y)  == shape(x)[0]; */',(⎕UCS 10),'  /* e.g, (,5)drop iota 5  */',(⎕UCS 10),'  return(drop(toi(x), y));',(⎕UCS 10),'}',(⎕UCS 10 10)
